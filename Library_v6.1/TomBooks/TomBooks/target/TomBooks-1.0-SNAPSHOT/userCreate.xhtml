<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="/templates/page-template.xhtml">
    
    <ui:define name="pageContent">
        <h:form id="createUserForm">
            <p:panel header="Dodaj użytkownika" style="width: 400px; margin: auto;">
                <p:outputLabel for="email" value="Email:" />
                <p:inputText id="email" value="#{userListBB.newUser.email}" 
                             required="true" requiredMessage="Email jest wymagany" 
                             validatorMessage="Niepoprawny format e-maila" style="width: 100%;" />
                
                <p:outputLabel for="name" value="Imię:" />
                <p:inputText id="name" value="#{userListBB.newUser.name}" 
                             required="true" requiredMessage="Imię jest wymagane" 
                             style="width: 100%;" />

                <p:outputLabel for="surname" value="Nazwisko:" />
                <p:inputText id="surname" value="#{userListBB.newUser.surname}" 
                             required="true" requiredMessage="Nazwisko jest wymagane" 
                             style="width: 100%;" />
                
                <p:outputLabel for="password" value="Hasło:" />
                <p:inputText id="password" value="#{userListBB.newUser.password}" 
                             required="true" requiredMessage="Hasło jest wymagane" 
                             style="width: 100%;" />
                
                             
                <p:outputLabel for="role" value="Rola:" />
                <p:selectOneMenu id="role" value="#{userListBB.newUser.role}" style="width: 100%;" required="true" requiredMessage="Rola jest wymagana">
                    <f:selectItem itemLabel="Wybierz rolę" itemValue="" noSelectionOption="true" />
                    <f:selectItem itemLabel="Admin" itemValue="admin" />
                    <f:selectItem itemLabel="Bibliotekarz" itemValue="worker" />
                    <f:selectItem itemLabel="Klient" itemValue="user" />
                </p:selectOneMenu>

                <p:outputLabel for="birthDate" value="Data urodzenia:" />
                <br></br>

                <p:calendar id="birthDate" value="#{userListBB.newUser.date}" 
                            required="true" requiredMessage="Data urodzenia jest wymagana" 
                            style="width: 100%;" />

                <br></br>
                <p:outputLabel for="balance" value="Saldo konta: (w zł)" />
                                <br></br>

                <p:inputNumber id="balance" value="#{userListBB.newUser.saldo}" 
                               required="true" requiredMessage="Saldo jest wymagane" 
                               style="width: 100%;" 
                               minValue="0" maxValue="1000000" />
                
                <br></br>
                
                                <br></br>

                <p:commandButton value="Dodaj" action="#{userListBB.saveNewUser}" 
                                 update="createUserForm" icon="pi pi-save" 
                                 styleClass="ui-button-success" />
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>
</html>
